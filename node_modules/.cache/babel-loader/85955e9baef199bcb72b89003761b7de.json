{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport SubMenu from '../SubMenu';\nimport ItemGroup from '../ItemGroup';\nimport MenuDivider from '../Divider';\nimport MenuItem from '../MenuItem';\nimport { ref, shallowRef, watch } from 'vue';\n\nfunction convertItemsToNodes(list, store, parentMenuInfo) {\n  return (list || []).map(function (opt, index) {\n    if (opt && _typeof(opt) === 'object') {\n      var _a = opt,\n          label = _a.label,\n          children = _a.children,\n          key = _a.key,\n          type = _a.type,\n          restProps = __rest(_a, [\"label\", \"children\", \"key\", \"type\"]);\n\n      var mergedKey = key !== null && key !== void 0 ? key : \"tmp-\".concat(index); // 此处 eventKey === key, 移除 children 后可以移除 eventKey\n\n      var parentKeys = parentMenuInfo ? parentMenuInfo.parentKeys.slice() : [];\n      var childrenEventKeys = []; // if\n\n      var menuInfo = {\n        eventKey: mergedKey,\n        key: mergedKey,\n        parentEventKeys: ref(parentKeys),\n        parentKeys: ref(parentKeys),\n        childrenEventKeys: ref(childrenEventKeys),\n        isLeaf: false\n      }; // MenuItemGroup & SubMenuItem\n\n      if (children || type === 'group') {\n        if (type === 'group') {\n          var _childrenNodes = convertItemsToNodes(children, store, parentMenuInfo); // Group\n\n\n          return _createVNode(ItemGroup, _objectSpread(_objectSpread({\n            \"key\": mergedKey\n          }, restProps), {}, {\n            \"title\": label\n          }), {\n            default: function _default() {\n              return [_childrenNodes];\n            }\n          });\n        }\n\n        store.set(mergedKey, menuInfo);\n\n        if (parentMenuInfo) {\n          parentMenuInfo.childrenEventKeys.push(mergedKey);\n        } // Sub Menu\n\n\n        var childrenNodes = convertItemsToNodes(children, store, {\n          childrenEventKeys: childrenEventKeys,\n          parentKeys: [].concat(parentKeys, mergedKey)\n        });\n        return _createVNode(SubMenu, _objectSpread(_objectSpread({\n          \"key\": mergedKey\n        }, restProps), {}, {\n          \"title\": label\n        }), {\n          default: function _default() {\n            return [childrenNodes];\n          }\n        });\n      } // MenuItem & Divider\n\n\n      if (type === 'divider') {\n        return _createVNode(MenuDivider, _objectSpread({\n          \"key\": mergedKey\n        }, restProps), null);\n      }\n\n      menuInfo.isLeaf = true;\n      store.set(mergedKey, menuInfo);\n      return _createVNode(MenuItem, _objectSpread({\n        \"key\": mergedKey\n      }, restProps), {\n        default: function _default() {\n          return [label];\n        }\n      });\n    }\n\n    return null;\n  }).filter(function (opt) {\n    return opt;\n  });\n} // FIXME: Move logic here in v4\n\n/**\n * We simply convert `items` to VueNode for reuse origin component logic. But we need move all the\n * logic from component into this hooks when in v4\n */\n\n\nexport default function useItems(props) {\n  var itemsNodes = shallowRef([]);\n  var hasItmes = ref(false);\n  var store = shallowRef(new Map());\n  watch(function () {\n    return props.items;\n  }, function () {\n    var newStore = new Map();\n    hasItmes.value = false;\n\n    if (props.items) {\n      hasItmes.value = true;\n      itemsNodes.value = convertItemsToNodes(props.items, newStore);\n    } else {\n      itemsNodes.value = undefined;\n    }\n\n    store.value = newStore;\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    itemsNodes: itemsNodes,\n    store: store,\n    hasItmes: hasItmes\n  };\n}","map":{"version":3,"names":["_objectSpread","_typeof","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","SubMenu","ItemGroup","MenuDivider","MenuItem","ref","shallowRef","watch","convertItemsToNodes","list","store","parentMenuInfo","map","opt","index","_a","label","children","key","type","restProps","mergedKey","concat","parentKeys","slice","childrenEventKeys","menuInfo","eventKey","parentEventKeys","isLeaf","_childrenNodes","default","_default","set","push","childrenNodes","filter","useItems","props","itemsNodes","hasItmes","Map","items","newStore","value","undefined","immediate","deep"],"sources":["/Users/cinder/Desktop/Psy+/psyplusweb/node_modules/ant-design-vue/es/menu/src/hooks/useItems.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport SubMenu from '../SubMenu';\nimport ItemGroup from '../ItemGroup';\nimport MenuDivider from '../Divider';\nimport MenuItem from '../MenuItem';\nimport { ref, shallowRef, watch } from 'vue';\n\nfunction convertItemsToNodes(list, store, parentMenuInfo) {\n  return (list || []).map(function (opt, index) {\n    if (opt && _typeof(opt) === 'object') {\n      var _a = opt,\n          label = _a.label,\n          children = _a.children,\n          key = _a.key,\n          type = _a.type,\n          restProps = __rest(_a, [\"label\", \"children\", \"key\", \"type\"]);\n\n      var mergedKey = key !== null && key !== void 0 ? key : \"tmp-\".concat(index); // 此处 eventKey === key, 移除 children 后可以移除 eventKey\n\n      var parentKeys = parentMenuInfo ? parentMenuInfo.parentKeys.slice() : [];\n      var childrenEventKeys = []; // if\n\n      var menuInfo = {\n        eventKey: mergedKey,\n        key: mergedKey,\n        parentEventKeys: ref(parentKeys),\n        parentKeys: ref(parentKeys),\n        childrenEventKeys: ref(childrenEventKeys),\n        isLeaf: false\n      }; // MenuItemGroup & SubMenuItem\n\n      if (children || type === 'group') {\n        if (type === 'group') {\n          var _childrenNodes = convertItemsToNodes(children, store, parentMenuInfo); // Group\n\n\n          return _createVNode(ItemGroup, _objectSpread(_objectSpread({\n            \"key\": mergedKey\n          }, restProps), {}, {\n            \"title\": label\n          }), {\n            default: function _default() {\n              return [_childrenNodes];\n            }\n          });\n        }\n\n        store.set(mergedKey, menuInfo);\n\n        if (parentMenuInfo) {\n          parentMenuInfo.childrenEventKeys.push(mergedKey);\n        } // Sub Menu\n\n\n        var childrenNodes = convertItemsToNodes(children, store, {\n          childrenEventKeys: childrenEventKeys,\n          parentKeys: [].concat(parentKeys, mergedKey)\n        });\n        return _createVNode(SubMenu, _objectSpread(_objectSpread({\n          \"key\": mergedKey\n        }, restProps), {}, {\n          \"title\": label\n        }), {\n          default: function _default() {\n            return [childrenNodes];\n          }\n        });\n      } // MenuItem & Divider\n\n\n      if (type === 'divider') {\n        return _createVNode(MenuDivider, _objectSpread({\n          \"key\": mergedKey\n        }, restProps), null);\n      }\n\n      menuInfo.isLeaf = true;\n      store.set(mergedKey, menuInfo);\n      return _createVNode(MenuItem, _objectSpread({\n        \"key\": mergedKey\n      }, restProps), {\n        default: function _default() {\n          return [label];\n        }\n      });\n    }\n\n    return null;\n  }).filter(function (opt) {\n    return opt;\n  });\n} // FIXME: Move logic here in v4\n\n/**\n * We simply convert `items` to VueNode for reuse origin component logic. But we need move all the\n * logic from component into this hooks when in v4\n */\n\n\nexport default function useItems(props) {\n  var itemsNodes = shallowRef([]);\n  var hasItmes = ref(false);\n  var store = shallowRef(new Map());\n  watch(function () {\n    return props.items;\n  }, function () {\n    var newStore = new Map();\n    hasItmes.value = false;\n\n    if (props.items) {\n      hasItmes.value = true;\n      itemsNodes.value = convertItemsToNodes(props.items, newStore);\n    } else {\n      itemsNodes.value = undefined;\n    }\n\n    store.value = newStore;\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    itemsNodes: itemsNodes,\n    store: store,\n    hasItmes: hasItmes\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}