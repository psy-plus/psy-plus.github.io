{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { useProvideKeysState, TreeContext } from './contextTypes';\nimport { getDragChildrenKeys, parseCheckedKeys, conductExpandParent, calcSelectedKeys, calcDropPosition, arrAdd, arrDel, posToArr } from './util';\nimport { flattenTreeData, convertTreeToData, convertDataToEntities, convertNodePropsToEventData, getTreeNodeProps, fillFieldNames } from './utils/treeUtil';\nimport NodeList, { MOTION_KEY, MotionEntity } from './NodeList';\nimport { conductCheck } from './utils/conductUtil';\nimport DropIndicator from './DropIndicator';\nimport { computed, defineComponent, onUnmounted, reactive, ref, shallowRef, watch, watchEffect, nextTick, toRaw } from 'vue';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport { treeProps } from './props';\nimport { warning } from '../vc-util/warning';\nimport KeyCode from '../_util/KeyCode';\nimport classNames from '../_util/classNames';\nimport pickAttrs from '../_util/pickAttrs';\nimport useMaxLevel from './useMaxLevel';\nvar MAX_RETRY_TIMES = 10;\nexport default defineComponent({\n  name: 'Tree',\n  inheritAttrs: false,\n  slots: ['checkable', 'title', 'icon', 'titleRender'],\n  props: initDefaultProps(treeProps(), {\n    prefixCls: 'vc-tree',\n    showLine: false,\n    showIcon: true,\n    selectable: true,\n    multiple: false,\n    checkable: false,\n    disabled: false,\n    checkStrictly: false,\n    draggable: false,\n    expandAction: false,\n    defaultExpandParent: true,\n    autoExpandParent: false,\n    defaultExpandAll: false,\n    defaultExpandedKeys: [],\n    defaultCheckedKeys: [],\n    defaultSelectedKeys: [],\n    dropIndicatorRender: DropIndicator,\n    allowDrop: function allowDrop() {\n      return true;\n    }\n  }),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        slots = _ref.slots,\n        expose = _ref.expose;\n    var destroyed = ref(false);\n    var delayedDragEnterLogic = {};\n    var indent = ref();\n    var selectedKeys = shallowRef([]);\n    var checkedKeys = shallowRef([]);\n    var halfCheckedKeys = shallowRef([]);\n    var loadedKeys = shallowRef([]);\n    var loadingKeys = shallowRef([]);\n    var expandedKeys = shallowRef([]);\n    var loadingRetryTimes = {};\n    var dragState = reactive({\n      draggingNodeKey: null,\n      dragChildrenKeys: [],\n      // dropTargetKey is the key of abstract-drop-node\n      // the abstract-drop-node is the real drop node when drag and drop\n      // not the DOM drag over node\n      dropTargetKey: null,\n      dropPosition: null,\n      dropContainerKey: null,\n      dropLevelOffset: null,\n      dropTargetPos: null,\n      dropAllowed: true,\n      // the abstract-drag-over-node\n      // if mouse is on the bottom of top dom node or no the top of the bottom dom node\n      // abstract-drag-over-node is the top node\n      dragOverNodeKey: null\n    });\n    var treeData = shallowRef([]);\n    watch([function () {\n      return props.treeData;\n    }, function () {\n      return props.children;\n    }], function () {\n      treeData.value = props.treeData !== undefined ? toRaw(props.treeData).slice() : convertTreeToData(toRaw(props.children));\n    }, {\n      immediate: true,\n      deep: true\n    });\n    var keyEntities = shallowRef({});\n    var focused = ref(false);\n    var activeKey = ref(null);\n    var listChanging = ref(false);\n    var fieldNames = computed(function () {\n      return fillFieldNames(props.fieldNames);\n    });\n    var listRef = ref();\n    var dragStartMousePosition = null;\n    var dragNode = null;\n    var currentMouseOverDroppableNodeKey = null;\n    var treeNodeRequiredProps = computed(function () {\n      return {\n        expandedKeysSet: expandedKeysSet.value,\n        selectedKeysSet: selectedKeysSet.value,\n        loadedKeysSet: loadedKeysSet.value,\n        loadingKeysSet: loadingKeysSet.value,\n        checkedKeysSet: checkedKeysSet.value,\n        halfCheckedKeysSet: halfCheckedKeysSet.value,\n        dragOverNodeKey: dragState.dragOverNodeKey,\n        dropPosition: dragState.dropPosition,\n        keyEntities: keyEntities.value\n      };\n    });\n    var expandedKeysSet = computed(function () {\n      return new Set(expandedKeys.value);\n    });\n    var selectedKeysSet = computed(function () {\n      return new Set(selectedKeys.value);\n    });\n    var loadedKeysSet = computed(function () {\n      return new Set(loadedKeys.value);\n    });\n    var loadingKeysSet = computed(function () {\n      return new Set(loadingKeys.value);\n    });\n    var checkedKeysSet = computed(function () {\n      return new Set(checkedKeys.value);\n    });\n    var halfCheckedKeysSet = computed(function () {\n      return new Set(halfCheckedKeys.value);\n    });\n    watchEffect(function () {\n      if (treeData.value) {\n        var entitiesMap = convertDataToEntities(treeData.value, {\n          fieldNames: fieldNames.value\n        });\n        keyEntities.value = _extends(_defineProperty({}, MOTION_KEY, MotionEntity), entitiesMap.keyEntities);\n      }\n    });\n    var init = false; // 处理 defaultXxxx api, 仅仅首次有效\n\n    watch([function () {\n      return props.expandedKeys;\n    }, function () {\n      return props.autoExpandParent;\n    }, keyEntities], // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function (_ref2, _ref3) {\n      var _ref4 = _slicedToArray(_ref2, 2),\n          _newKeys = _ref4[0],\n          newAutoExpandParent = _ref4[1];\n\n      var _ref5 = _slicedToArray(_ref3, 2),\n          _oldKeys = _ref5[0],\n          oldAutoExpandParent = _ref5[1];\n\n      var keys = expandedKeys.value; // ================ expandedKeys =================\n\n      if (props.expandedKeys !== undefined || init && newAutoExpandParent !== oldAutoExpandParent) {\n        keys = props.autoExpandParent || !init && props.defaultExpandParent ? conductExpandParent(props.expandedKeys, keyEntities.value) : props.expandedKeys;\n      } else if (!init && props.defaultExpandAll) {\n        var cloneKeyEntities = _extends({}, keyEntities.value);\n\n        delete cloneKeyEntities[MOTION_KEY];\n        keys = Object.keys(cloneKeyEntities).map(function (key) {\n          return cloneKeyEntities[key].key;\n        });\n      } else if (!init && props.defaultExpandedKeys) {\n        keys = props.autoExpandParent || props.defaultExpandParent ? conductExpandParent(props.defaultExpandedKeys, keyEntities.value) : props.defaultExpandedKeys;\n      }\n\n      if (keys) {\n        expandedKeys.value = keys;\n      }\n\n      init = true;\n    }, {\n      immediate: true\n    }); // ================ flattenNodes =================\n\n    var flattenNodes = shallowRef([]);\n    watchEffect(function () {\n      flattenNodes.value = flattenTreeData(treeData.value, expandedKeys.value, fieldNames.value);\n    }); // ================ selectedKeys =================\n\n    watchEffect(function () {\n      if (props.selectable) {\n        if (props.selectedKeys !== undefined) {\n          selectedKeys.value = calcSelectedKeys(props.selectedKeys, props);\n        } else if (!init && props.defaultSelectedKeys) {\n          selectedKeys.value = calcSelectedKeys(props.defaultSelectedKeys, props);\n        }\n      }\n    });\n\n    var _useMaxLevel = useMaxLevel(keyEntities),\n        maxLevel = _useMaxLevel.maxLevel,\n        levelEntities = _useMaxLevel.levelEntities; // ================= checkedKeys =================\n\n\n    watchEffect(function () {\n      if (props.checkable) {\n        var checkedKeyEntity;\n\n        if (props.checkedKeys !== undefined) {\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {};\n        } else if (!init && props.defaultCheckedKeys) {\n          checkedKeyEntity = parseCheckedKeys(props.defaultCheckedKeys) || {};\n        } else if (treeData.value) {\n          // If `treeData` changed, we also need check it\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {\n            checkedKeys: checkedKeys.value,\n            halfCheckedKeys: halfCheckedKeys.value\n          };\n        }\n\n        if (checkedKeyEntity) {\n          var _checkedKeyEntity = checkedKeyEntity,\n              _checkedKeyEntity$che = _checkedKeyEntity.checkedKeys,\n              newCheckedKeys = _checkedKeyEntity$che === void 0 ? [] : _checkedKeyEntity$che,\n              _checkedKeyEntity$hal = _checkedKeyEntity.halfCheckedKeys,\n              newHalfCheckedKeys = _checkedKeyEntity$hal === void 0 ? [] : _checkedKeyEntity$hal;\n\n          if (!props.checkStrictly) {\n            var conductKeys = conductCheck(newCheckedKeys, true, keyEntities.value, maxLevel.value, levelEntities.value);\n            newCheckedKeys = conductKeys.checkedKeys;\n            newHalfCheckedKeys = conductKeys.halfCheckedKeys;\n          }\n\n          checkedKeys.value = newCheckedKeys;\n          halfCheckedKeys.value = newHalfCheckedKeys;\n        }\n      }\n    }); // ================= loadedKeys ==================\n\n    watchEffect(function () {\n      if (props.loadedKeys) {\n        loadedKeys.value = props.loadedKeys;\n      }\n    });\n\n    var resetDragState = function resetDragState() {\n      _extends(dragState, {\n        dragOverNodeKey: null,\n        dropPosition: null,\n        dropLevelOffset: null,\n        dropTargetKey: null,\n        dropContainerKey: null,\n        dropTargetPos: null,\n        dropAllowed: false\n      });\n    };\n\n    var scrollTo = function scrollTo(scroll) {\n      listRef.value.scrollTo(scroll);\n    };\n\n    watch(function () {\n      return props.activeKey;\n    }, function () {\n      if (props.activeKey !== undefined) {\n        activeKey.value = props.activeKey;\n      }\n    }, {\n      immediate: true\n    });\n    watch(activeKey, function (val) {\n      nextTick(function () {\n        if (val !== null) {\n          scrollTo({\n            key: val\n          });\n        }\n      });\n    }, {\n      immediate: true,\n      flush: 'post'\n    }); // =========================== Expanded ===========================\n\n    /** Set uncontrolled `expandedKeys`. This will also auto update `flattenNodes`. */\n\n    var setExpandedKeys = function setExpandedKeys(keys) {\n      if (props.expandedKeys === undefined) {\n        expandedKeys.value = keys;\n      }\n    };\n\n    var cleanDragState = function cleanDragState() {\n      if (dragState.draggingNodeKey !== null) {\n        _extends(dragState, {\n          draggingNodeKey: null,\n          dropPosition: null,\n          dropContainerKey: null,\n          dropTargetKey: null,\n          dropLevelOffset: null,\n          dropAllowed: true,\n          dragOverNodeKey: null\n        });\n      }\n\n      dragStartMousePosition = null;\n      currentMouseOverDroppableNodeKey = null;\n    }; // if onNodeDragEnd is called, onWindowDragEnd won't be called since stopPropagation() is called\n\n\n    var onNodeDragEnd = function onNodeDragEnd(event, node) {\n      var onDragend = props.onDragend;\n      dragState.dragOverNodeKey = null;\n      cleanDragState();\n      onDragend === null || onDragend === void 0 ? void 0 : onDragend({\n        event: event,\n        node: node.eventData\n      });\n      dragNode = null;\n    }; // since stopPropagation() is called in treeNode\n    // if onWindowDrag is called, whice means state is keeped, drag state should be cleared\n\n\n    var onWindowDragEnd = function onWindowDragEnd(event) {\n      onNodeDragEnd(event, null, true);\n      window.removeEventListener('dragend', onWindowDragEnd);\n    };\n\n    var onNodeDragStart = function onNodeDragStart(event, node) {\n      var onDragstart = props.onDragstart;\n      var eventKey = node.eventKey,\n          eventData = node.eventData;\n      dragNode = node;\n      dragStartMousePosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      var newExpandedKeys = arrDel(expandedKeys.value, eventKey);\n      dragState.draggingNodeKey = eventKey;\n      dragState.dragChildrenKeys = getDragChildrenKeys(eventKey, keyEntities.value);\n      indent.value = listRef.value.getIndentWidth();\n      setExpandedKeys(newExpandedKeys);\n      window.addEventListener('dragend', onWindowDragEnd);\n\n      if (onDragstart) {\n        onDragstart({\n          event: event,\n          node: eventData\n        });\n      }\n    };\n    /**\n     * [Legacy] Select handler is smaller than node,\n     * so that this will trigger when drag enter node or select handler.\n     * This is a little tricky if customize css without padding.\n     * Better for use mouse move event to refresh drag state.\n     * But let's just keep it to avoid event trigger logic change.\n     */\n\n\n    var onNodeDragEnter = function onNodeDragEnter(event, node) {\n      var onDragenter = props.onDragenter,\n          onExpand = props.onExpand,\n          allowDrop = props.allowDrop,\n          direction = props.direction;\n      var pos = node.pos,\n          eventKey = node.eventKey; // record the key of node which is latest entered, used in dragleave event.\n\n      if (currentMouseOverDroppableNodeKey !== eventKey) {\n        currentMouseOverDroppableNodeKey = eventKey;\n      }\n\n      if (!dragNode) {\n        resetDragState();\n        return;\n      }\n\n      var _calcDropPosition = calcDropPosition(event, dragNode, node, indent.value, dragStartMousePosition, allowDrop, flattenNodes.value, keyEntities.value, expandedKeysSet.value, direction),\n          dropPosition = _calcDropPosition.dropPosition,\n          dropLevelOffset = _calcDropPosition.dropLevelOffset,\n          dropTargetKey = _calcDropPosition.dropTargetKey,\n          dropContainerKey = _calcDropPosition.dropContainerKey,\n          dropTargetPos = _calcDropPosition.dropTargetPos,\n          dropAllowed = _calcDropPosition.dropAllowed,\n          dragOverNodeKey = _calcDropPosition.dragOverNodeKey;\n\n      if ( // don't allow drop inside its children\n      dragState.dragChildrenKeys.indexOf(dropTargetKey) !== -1 || // don't allow drop when drop is not allowed caculated by calcDropPosition\n      !dropAllowed) {\n        resetDragState();\n        return;\n      } // Side effect for delay drag\n\n\n      if (!delayedDragEnterLogic) {\n        delayedDragEnterLogic = {};\n      }\n\n      Object.keys(delayedDragEnterLogic).forEach(function (key) {\n        clearTimeout(delayedDragEnterLogic[key]);\n      });\n\n      if (dragNode.eventKey !== node.eventKey) {\n        // hoist expand logic here\n        // since if logic is on the bottom\n        // it will be blocked by abstract dragover node check\n        //   => if you dragenter from top, you mouse will still be consider as in the top node\n        delayedDragEnterLogic[pos] = window.setTimeout(function () {\n          if (dragState.draggingNodeKey === null) return;\n          var newExpandedKeys = expandedKeys.value.slice();\n          var entity = keyEntities.value[node.eventKey];\n\n          if (entity && (entity.children || []).length) {\n            newExpandedKeys = arrAdd(expandedKeys.value, node.eventKey);\n          }\n\n          setExpandedKeys(newExpandedKeys);\n\n          if (onExpand) {\n            onExpand(newExpandedKeys, {\n              node: node.eventData,\n              expanded: true,\n              nativeEvent: event\n            });\n          }\n        }, 800);\n      } // Skip if drag node is self\n\n\n      if (dragNode.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        resetDragState();\n        return;\n      } // Update drag over node and drag state\n\n\n      _extends(dragState, {\n        dragOverNodeKey: dragOverNodeKey,\n        dropPosition: dropPosition,\n        dropLevelOffset: dropLevelOffset,\n        dropTargetKey: dropTargetKey,\n        dropContainerKey: dropContainerKey,\n        dropTargetPos: dropTargetPos,\n        dropAllowed: dropAllowed\n      });\n\n      if (onDragenter) {\n        onDragenter({\n          event: event,\n          node: node.eventData,\n          expandedKeys: expandedKeys.value\n        });\n      }\n    };\n\n    var onNodeDragOver = function onNodeDragOver(event, node) {\n      var onDragover = props.onDragover,\n          allowDrop = props.allowDrop,\n          direction = props.direction;\n\n      if (!dragNode) {\n        return;\n      }\n\n      var _calcDropPosition2 = calcDropPosition(event, dragNode, node, indent.value, dragStartMousePosition, allowDrop, flattenNodes.value, keyEntities.value, expandedKeysSet.value, direction),\n          dropPosition = _calcDropPosition2.dropPosition,\n          dropLevelOffset = _calcDropPosition2.dropLevelOffset,\n          dropTargetKey = _calcDropPosition2.dropTargetKey,\n          dropContainerKey = _calcDropPosition2.dropContainerKey,\n          dropAllowed = _calcDropPosition2.dropAllowed,\n          dropTargetPos = _calcDropPosition2.dropTargetPos,\n          dragOverNodeKey = _calcDropPosition2.dragOverNodeKey;\n\n      if (dragState.dragChildrenKeys.indexOf(dropTargetKey) !== -1 || !dropAllowed) {\n        // don't allow drop inside its children\n        // don't allow drop when drop is not allowed caculated by calcDropPosition\n        return;\n      } // Update drag position\n\n\n      if (dragNode.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        if (!(dragState.dropPosition === null && dragState.dropLevelOffset === null && dragState.dropTargetKey === null && dragState.dropContainerKey === null && dragState.dropTargetPos === null && dragState.dropAllowed === false && dragState.dragOverNodeKey === null)) {\n          resetDragState();\n        }\n      } else if (!(dropPosition === dragState.dropPosition && dropLevelOffset === dragState.dropLevelOffset && dropTargetKey === dragState.dropTargetKey && dropContainerKey === dragState.dropContainerKey && dropTargetPos === dragState.dropTargetPos && dropAllowed === dragState.dropAllowed && dragOverNodeKey === dragState.dragOverNodeKey)) {\n        _extends(dragState, {\n          dropPosition: dropPosition,\n          dropLevelOffset: dropLevelOffset,\n          dropTargetKey: dropTargetKey,\n          dropContainerKey: dropContainerKey,\n          dropTargetPos: dropTargetPos,\n          dropAllowed: dropAllowed,\n          dragOverNodeKey: dragOverNodeKey\n        });\n      }\n\n      if (onDragover) {\n        onDragover({\n          event: event,\n          node: node.eventData\n        });\n      }\n    };\n\n    var onNodeDragLeave = function onNodeDragLeave(event, node) {\n      // if it is outside the droppable area\n      // currentMouseOverDroppableNodeKey will be updated in dragenter event when into another droppable receiver.\n      if (currentMouseOverDroppableNodeKey === node.eventKey && !event.currentTarget.contains(event.relatedTarget)) {\n        resetDragState();\n        currentMouseOverDroppableNodeKey = null;\n      }\n\n      var onDragleave = props.onDragleave;\n\n      if (onDragleave) {\n        onDragleave({\n          event: event,\n          node: node.eventData\n        });\n      }\n    };\n\n    var onNodeDrop = function onNodeDrop(event, _node) {\n      var outsideTree = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _a;\n\n      var dragChildrenKeys = dragState.dragChildrenKeys,\n          dropPosition = dragState.dropPosition,\n          dropTargetKey = dragState.dropTargetKey,\n          dropTargetPos = dragState.dropTargetPos,\n          dropAllowed = dragState.dropAllowed;\n      if (!dropAllowed) return;\n      var onDrop = props.onDrop;\n      dragState.dragOverNodeKey = null;\n      cleanDragState();\n      if (dropTargetKey === null) return;\n\n      var abstractDropNodeProps = _extends(_extends({}, getTreeNodeProps(dropTargetKey, toRaw(treeNodeRequiredProps.value))), {\n        active: ((_a = activeItem.value) === null || _a === void 0 ? void 0 : _a.key) === dropTargetKey,\n        data: keyEntities.value[dropTargetKey].node\n      });\n\n      var dropToChild = dragChildrenKeys.indexOf(dropTargetKey) !== -1;\n      warning(!dropToChild, \"Can not drop to dragNode's children node. Maybe this is a bug of ant-design-vue. Please report an issue.\");\n      var posArr = posToArr(dropTargetPos);\n      var dropResult = {\n        event: event,\n        node: convertNodePropsToEventData(abstractDropNodeProps),\n        dragNode: dragNode ? dragNode.eventData : null,\n        dragNodesKeys: [dragNode.eventKey].concat(dragChildrenKeys),\n        dropToGap: dropPosition !== 0,\n        dropPosition: dropPosition + Number(posArr[posArr.length - 1])\n      };\n\n      if (!outsideTree) {\n        onDrop === null || onDrop === void 0 ? void 0 : onDrop(dropResult);\n      }\n\n      dragNode = null;\n    };\n\n    var triggerExpandActionExpand = function triggerExpandActionExpand(e, treeNode) {\n      var expanded = treeNode.expanded,\n          key = treeNode.key;\n      var node = flattenNodes.value.filter(function (nodeItem) {\n        return nodeItem.key === key;\n      })[0];\n      var eventNode = convertNodePropsToEventData(_extends(_extends({}, getTreeNodeProps(key, treeNodeRequiredProps.value)), {\n        data: node.data\n      }));\n      setExpandedKeys(expanded ? arrDel(expandedKeys.value, key) : arrAdd(expandedKeys.value, key));\n      onNodeExpand(e, eventNode);\n    };\n\n    var onNodeClick = function onNodeClick(e, treeNode) {\n      var onClick = props.onClick,\n          expandAction = props.expandAction;\n\n      if (expandAction === 'click') {\n        triggerExpandActionExpand(e, treeNode);\n      }\n\n      if (onClick) {\n        onClick(e, treeNode);\n      }\n    };\n\n    var onNodeDoubleClick = function onNodeDoubleClick(e, treeNode) {\n      var onDblclick = props.onDblclick,\n          expandAction = props.expandAction;\n\n      if (expandAction === 'doubleclick' || expandAction === 'dblclick') {\n        triggerExpandActionExpand(e, treeNode);\n      }\n\n      if (onDblclick) {\n        onDblclick(e, treeNode);\n      }\n    };\n\n    var onNodeSelect = function onNodeSelect(e, treeNode) {\n      var newSelectedKeys = selectedKeys.value;\n      var onSelect = props.onSelect,\n          multiple = props.multiple;\n      var selected = treeNode.selected;\n      var key = treeNode[fieldNames.value.key];\n      var targetSelected = !selected; // Update selected keys\n\n      if (!targetSelected) {\n        newSelectedKeys = arrDel(newSelectedKeys, key);\n      } else if (!multiple) {\n        newSelectedKeys = [key];\n      } else {\n        newSelectedKeys = arrAdd(newSelectedKeys, key);\n      } // [Legacy] Not found related usage in doc or upper libs\n\n\n      var keyEntitiesValue = keyEntities.value;\n      var selectedNodes = newSelectedKeys.map(function (selectedKey) {\n        var entity = keyEntitiesValue[selectedKey];\n        if (!entity) return null;\n        return entity.node;\n      }).filter(function (node) {\n        return node;\n      });\n\n      if (props.selectedKeys === undefined) {\n        selectedKeys.value = newSelectedKeys;\n      }\n\n      if (onSelect) {\n        onSelect(newSelectedKeys, {\n          event: 'select',\n          selected: targetSelected,\n          node: treeNode,\n          selectedNodes: selectedNodes,\n          nativeEvent: e\n        });\n      }\n    };\n\n    var onNodeCheck = function onNodeCheck(e, treeNode, checked) {\n      var checkStrictly = props.checkStrictly,\n          onCheck = props.onCheck;\n      var key = treeNode[fieldNames.value.key]; // Prepare trigger arguments\n\n      var checkedObj;\n      var eventObj = {\n        event: 'check',\n        node: treeNode,\n        checked: checked,\n        nativeEvent: e\n      };\n      var keyEntitiesValue = keyEntities.value;\n\n      if (checkStrictly) {\n        var newCheckedKeys = checked ? arrAdd(checkedKeys.value, key) : arrDel(checkedKeys.value, key);\n        var newHalfCheckedKeys = arrDel(halfCheckedKeys.value, key);\n        checkedObj = {\n          checked: newCheckedKeys,\n          halfChecked: newHalfCheckedKeys\n        };\n        eventObj.checkedNodes = newCheckedKeys.map(function (checkedKey) {\n          return keyEntitiesValue[checkedKey];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (entity) {\n          return entity.node;\n        });\n\n        if (props.checkedKeys === undefined) {\n          checkedKeys.value = newCheckedKeys;\n        }\n      } else {\n        // Always fill first\n        var _conductCheck = conductCheck([].concat(_toConsumableArray(checkedKeys.value), [key]), true, keyEntitiesValue, maxLevel.value, levelEntities.value),\n            _newCheckedKeys = _conductCheck.checkedKeys,\n            _newHalfCheckedKeys = _conductCheck.halfCheckedKeys; // If remove, we do it again to correction\n\n\n        if (!checked) {\n          var keySet = new Set(_newCheckedKeys);\n          keySet.delete(key);\n\n          var _conductCheck2 = conductCheck(Array.from(keySet), {\n            checked: false,\n            halfCheckedKeys: _newHalfCheckedKeys\n          }, keyEntitiesValue, maxLevel.value, levelEntities.value);\n\n          _newCheckedKeys = _conductCheck2.checkedKeys;\n          _newHalfCheckedKeys = _conductCheck2.halfCheckedKeys;\n        }\n\n        checkedObj = _newCheckedKeys; // [Legacy] This is used for vc-tree-select`\n\n        eventObj.checkedNodes = [];\n        eventObj.checkedNodesPositions = [];\n        eventObj.halfCheckedKeys = _newHalfCheckedKeys;\n\n        _newCheckedKeys.forEach(function (checkedKey) {\n          var entity = keyEntitiesValue[checkedKey];\n          if (!entity) return;\n          var node = entity.node,\n              pos = entity.pos;\n          eventObj.checkedNodes.push(node);\n          eventObj.checkedNodesPositions.push({\n            node: node,\n            pos: pos\n          });\n        });\n\n        if (props.checkedKeys === undefined) {\n          checkedKeys.value = _newCheckedKeys;\n          halfCheckedKeys.value = _newHalfCheckedKeys;\n        }\n      }\n\n      if (onCheck) {\n        onCheck(checkedObj, eventObj);\n      }\n    };\n\n    var onNodeLoad = function onNodeLoad(treeNode) {\n      var key = treeNode[fieldNames.value.key];\n      var loadPromise = new Promise(function (resolve, reject) {\n        // We need to get the latest state of loading/loaded keys\n        var loadData = props.loadData,\n            onLoad = props.onLoad;\n\n        if (!loadData || loadedKeysSet.value.has(key) || loadingKeysSet.value.has(key)) {\n          return null;\n        } // Process load data\n\n\n        var promise = loadData(treeNode);\n        promise.then(function () {\n          var newLoadedKeys = arrAdd(loadedKeys.value, key);\n          var newLoadingKeys = arrDel(loadingKeys.value, key); // onLoad should trigger before internal setState to avoid `loadData` trigger twice.\n          // https://github.com/ant-design/ant-design/issues/12464\n\n          if (onLoad) {\n            onLoad(newLoadedKeys, {\n              event: 'load',\n              node: treeNode\n            });\n          }\n\n          if (props.loadedKeys === undefined) {\n            loadedKeys.value = newLoadedKeys;\n          }\n\n          loadingKeys.value = newLoadingKeys;\n          resolve();\n        }).catch(function (e) {\n          var newLoadingKeys = arrDel(loadingKeys.value, key);\n          loadingKeys.value = newLoadingKeys; // If exceed max retry times, we give up retry\n\n          loadingRetryTimes[key] = (loadingRetryTimes[key] || 0) + 1;\n\n          if (loadingRetryTimes[key] >= MAX_RETRY_TIMES) {\n            warning(false, 'Retry for `loadData` many times but still failed. No more retry.');\n            var newLoadedKeys = arrAdd(loadedKeys.value, key);\n\n            if (props.loadedKeys === undefined) {\n              loadedKeys.value = newLoadedKeys;\n            }\n\n            resolve();\n          }\n\n          reject(e);\n        });\n        loadingKeys.value = arrAdd(loadingKeys.value, key);\n      }); // Not care warning if we ignore this\n\n      loadPromise.catch(function () {});\n      return loadPromise;\n    };\n\n    var onNodeMouseEnter = function onNodeMouseEnter(event, node) {\n      var onMouseenter = props.onMouseenter;\n\n      if (onMouseenter) {\n        onMouseenter({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    var onNodeMouseLeave = function onNodeMouseLeave(event, node) {\n      var onMouseleave = props.onMouseleave;\n\n      if (onMouseleave) {\n        onMouseleave({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    var onNodeContextMenu = function onNodeContextMenu(event, node) {\n      var onRightClick = props.onRightClick;\n\n      if (onRightClick) {\n        event.preventDefault();\n        onRightClick({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    var onFocus = function onFocus(e) {\n      var onFocus = props.onFocus;\n      focused.value = true;\n\n      if (onFocus) {\n        onFocus(e);\n      }\n    };\n\n    var onBlur = function onBlur(e) {\n      var onBlur = props.onBlur;\n      focused.value = false;\n      onActiveChange(null);\n\n      if (onBlur) {\n        onBlur(e);\n      }\n    };\n\n    var onNodeExpand = function onNodeExpand(e, treeNode) {\n      var newExpandedKeys = expandedKeys.value;\n      var onExpand = props.onExpand,\n          loadData = props.loadData;\n      var expanded = treeNode.expanded;\n      var key = treeNode[fieldNames.value.key]; // Do nothing when motion is in progress\n\n      if (listChanging.value) {\n        return;\n      } // Update selected keys\n\n\n      var index = newExpandedKeys.indexOf(key);\n      var targetExpanded = !expanded;\n      warning(expanded && index !== -1 || !expanded && index === -1, 'Expand state not sync with index check');\n\n      if (targetExpanded) {\n        newExpandedKeys = arrAdd(newExpandedKeys, key);\n      } else {\n        newExpandedKeys = arrDel(newExpandedKeys, key);\n      }\n\n      setExpandedKeys(newExpandedKeys);\n\n      if (onExpand) {\n        onExpand(newExpandedKeys, {\n          node: treeNode,\n          expanded: targetExpanded,\n          nativeEvent: e\n        });\n      } // Async Load data\n\n\n      if (targetExpanded && loadData) {\n        var loadPromise = onNodeLoad(treeNode);\n\n        if (loadPromise) {\n          loadPromise.then(function () {// [Legacy] Refresh logic\n            // const newFlattenTreeData = flattenTreeData(\n            //   treeData.value,\n            //   newExpandedKeys,\n            //   fieldNames.value,\n            // );\n            // flattenNodes.value = newFlattenTreeData;\n          }).catch(function (e) {\n            var expandedKeysToRestore = arrDel(expandedKeys.value, key);\n            setExpandedKeys(expandedKeysToRestore);\n            Promise.reject(e);\n          });\n        }\n      }\n    };\n\n    var onListChangeStart = function onListChangeStart() {\n      listChanging.value = true;\n    };\n\n    var onListChangeEnd = function onListChangeEnd() {\n      setTimeout(function () {\n        listChanging.value = false;\n      });\n    }; // =========================== Keyboard ===========================\n\n\n    var onActiveChange = function onActiveChange(newActiveKey) {\n      var onActiveChange = props.onActiveChange;\n\n      if (activeKey.value === newActiveKey) {\n        return;\n      }\n\n      if (props.activeKey !== undefined) {\n        activeKey.value = newActiveKey;\n      }\n\n      if (newActiveKey !== null) {\n        scrollTo({\n          key: newActiveKey\n        });\n      }\n\n      if (onActiveChange) {\n        onActiveChange(newActiveKey);\n      }\n    };\n\n    var activeItem = computed(function () {\n      if (activeKey.value === null) {\n        return null;\n      }\n\n      return flattenNodes.value.find(function (_ref6) {\n        var key = _ref6.key;\n        return key === activeKey.value;\n      }) || null;\n    });\n\n    var offsetActiveKey = function offsetActiveKey(offset) {\n      var index = flattenNodes.value.findIndex(function (_ref7) {\n        var key = _ref7.key;\n        return key === activeKey.value;\n      }); // Align with index\n\n      if (index === -1 && offset < 0) {\n        index = flattenNodes.value.length;\n      }\n\n      index = (index + offset + flattenNodes.value.length) % flattenNodes.value.length;\n      var item = flattenNodes.value[index];\n\n      if (item) {\n        var key = item.key;\n        onActiveChange(key);\n      } else {\n        onActiveChange(null);\n      }\n    };\n\n    var activeItemEventNode = computed(function () {\n      return convertNodePropsToEventData(_extends(_extends({}, getTreeNodeProps(activeKey.value, treeNodeRequiredProps.value)), {\n        data: activeItem.value.data,\n        active: true\n      }));\n    });\n\n    var onKeydown = function onKeydown(event) {\n      var onKeydown = props.onKeydown,\n          checkable = props.checkable,\n          selectable = props.selectable; // >>>>>>>>>> Direction\n\n      switch (event.which) {\n        case KeyCode.UP:\n          {\n            offsetActiveKey(-1);\n            event.preventDefault();\n            break;\n          }\n\n        case KeyCode.DOWN:\n          {\n            offsetActiveKey(1);\n            event.preventDefault();\n            break;\n          }\n      } // >>>>>>>>>> Expand & Selection\n\n\n      var item = activeItem.value;\n\n      if (item && item.data) {\n        var expandable = item.data.isLeaf === false || !!(item.data.children || []).length;\n        var eventNode = activeItemEventNode.value;\n\n        switch (event.which) {\n          // >>> Expand\n          case KeyCode.LEFT:\n            {\n              // Collapse if possible\n              if (expandable && expandedKeysSet.value.has(activeKey.value)) {\n                onNodeExpand({}, eventNode);\n              } else if (item.parent) {\n                onActiveChange(item.parent.key);\n              }\n\n              event.preventDefault();\n              break;\n            }\n\n          case KeyCode.RIGHT:\n            {\n              // Expand if possible\n              if (expandable && !expandedKeysSet.value.has(activeKey.value)) {\n                onNodeExpand({}, eventNode);\n              } else if (item.children && item.children.length) {\n                onActiveChange(item.children[0].key);\n              }\n\n              event.preventDefault();\n              break;\n            }\n          // Selection\n\n          case KeyCode.ENTER:\n          case KeyCode.SPACE:\n            {\n              if (checkable && !eventNode.disabled && eventNode.checkable !== false && !eventNode.disableCheckbox) {\n                onNodeCheck({}, eventNode, !checkedKeysSet.value.has(activeKey.value));\n              } else if (!checkable && selectable && !eventNode.disabled && eventNode.selectable !== false) {\n                onNodeSelect({}, eventNode);\n              }\n\n              break;\n            }\n        }\n      }\n\n      if (onKeydown) {\n        onKeydown(event);\n      }\n    };\n\n    expose({\n      onNodeExpand: onNodeExpand,\n      scrollTo: scrollTo,\n      onKeydown: onKeydown,\n      selectedKeys: computed(function () {\n        return selectedKeys.value;\n      }),\n      checkedKeys: computed(function () {\n        return checkedKeys.value;\n      }),\n      halfCheckedKeys: computed(function () {\n        return halfCheckedKeys.value;\n      }),\n      loadedKeys: computed(function () {\n        return loadedKeys.value;\n      }),\n      loadingKeys: computed(function () {\n        return loadingKeys.value;\n      }),\n      expandedKeys: computed(function () {\n        return expandedKeys.value;\n      })\n    });\n    onUnmounted(function () {\n      window.removeEventListener('dragend', onWindowDragEnd);\n      destroyed.value = true;\n    });\n    useProvideKeysState({\n      expandedKeys: expandedKeys,\n      selectedKeys: selectedKeys,\n      loadedKeys: loadedKeys,\n      loadingKeys: loadingKeys,\n      checkedKeys: checkedKeys,\n      halfCheckedKeys: halfCheckedKeys,\n      expandedKeysSet: expandedKeysSet,\n      selectedKeysSet: selectedKeysSet,\n      loadedKeysSet: loadedKeysSet,\n      loadingKeysSet: loadingKeysSet,\n      checkedKeysSet: checkedKeysSet,\n      halfCheckedKeysSet: halfCheckedKeysSet,\n      flattenNodes: flattenNodes\n    });\n    return function () {\n      var _classNames;\n\n      var draggingNodeKey = dragState.draggingNodeKey,\n          dropLevelOffset = dragState.dropLevelOffset,\n          dropContainerKey = dragState.dropContainerKey,\n          dropTargetKey = dragState.dropTargetKey,\n          dropPosition = dragState.dropPosition,\n          dragOverNodeKey = dragState.dragOverNodeKey;\n      var prefixCls = props.prefixCls,\n          showLine = props.showLine,\n          focusable = props.focusable,\n          _props$tabindex = props.tabindex,\n          tabindex = _props$tabindex === void 0 ? 0 : _props$tabindex,\n          selectable = props.selectable,\n          showIcon = props.showIcon,\n          _props$icon = props.icon,\n          icon = _props$icon === void 0 ? slots.icon : _props$icon,\n          switcherIcon = props.switcherIcon,\n          draggable = props.draggable,\n          checkable = props.checkable,\n          checkStrictly = props.checkStrictly,\n          disabled = props.disabled,\n          motion = props.motion,\n          loadData = props.loadData,\n          filterTreeNode = props.filterTreeNode,\n          height = props.height,\n          itemHeight = props.itemHeight,\n          virtual = props.virtual,\n          dropIndicatorRender = props.dropIndicatorRender,\n          onContextmenu = props.onContextmenu,\n          onScroll = props.onScroll,\n          direction = props.direction,\n          rootClassName = props.rootClassName,\n          rootStyle = props.rootStyle;\n      var className = attrs.class,\n          style = attrs.style;\n      var domProps = pickAttrs(_extends(_extends({}, props), attrs), {\n        aria: true,\n        data: true\n      }); // It's better move to hooks but we just simply keep here\n\n      var draggableConfig;\n\n      if (draggable) {\n        if (_typeof(draggable) === 'object') {\n          draggableConfig = draggable;\n        } else if (typeof draggable === 'function') {\n          draggableConfig = {\n            nodeDraggable: draggable\n          };\n        } else {\n          draggableConfig = {};\n        }\n      }\n\n      return _createVNode(TreeContext, {\n        \"value\": {\n          prefixCls: prefixCls,\n          selectable: selectable,\n          showIcon: showIcon,\n          icon: icon,\n          switcherIcon: switcherIcon,\n          draggable: draggableConfig,\n          draggingNodeKey: draggingNodeKey,\n          checkable: checkable,\n          customCheckable: slots.checkable,\n          checkStrictly: checkStrictly,\n          disabled: disabled,\n          keyEntities: keyEntities.value,\n          dropLevelOffset: dropLevelOffset,\n          dropContainerKey: dropContainerKey,\n          dropTargetKey: dropTargetKey,\n          dropPosition: dropPosition,\n          dragOverNodeKey: dragOverNodeKey,\n          dragging: draggingNodeKey !== null,\n          indent: indent.value,\n          direction: direction,\n          dropIndicatorRender: dropIndicatorRender,\n          loadData: loadData,\n          filterTreeNode: filterTreeNode,\n          onNodeClick: onNodeClick,\n          onNodeDoubleClick: onNodeDoubleClick,\n          onNodeExpand: onNodeExpand,\n          onNodeSelect: onNodeSelect,\n          onNodeCheck: onNodeCheck,\n          onNodeLoad: onNodeLoad,\n          onNodeMouseEnter: onNodeMouseEnter,\n          onNodeMouseLeave: onNodeMouseLeave,\n          onNodeContextMenu: onNodeContextMenu,\n          onNodeDragStart: onNodeDragStart,\n          onNodeDragEnter: onNodeDragEnter,\n          onNodeDragOver: onNodeDragOver,\n          onNodeDragLeave: onNodeDragLeave,\n          onNodeDragEnd: onNodeDragEnd,\n          onNodeDrop: onNodeDrop,\n          slots: slots\n        }\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"role\": \"tree\",\n            \"class\": classNames(prefixCls, className, rootClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-line\"), showLine), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), focused.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-active-focused\"), activeKey.value !== null), _classNames)),\n            \"style\": rootStyle\n          }, [_createVNode(NodeList, _objectSpread({\n            \"ref\": listRef,\n            \"prefixCls\": prefixCls,\n            \"style\": style,\n            \"disabled\": disabled,\n            \"selectable\": selectable,\n            \"checkable\": !!checkable,\n            \"motion\": motion,\n            \"height\": height,\n            \"itemHeight\": itemHeight,\n            \"virtual\": virtual,\n            \"focusable\": focusable,\n            \"focused\": focused.value,\n            \"tabindex\": tabindex,\n            \"activeItem\": activeItem.value,\n            \"onFocus\": onFocus,\n            \"onBlur\": onBlur,\n            \"onKeydown\": onKeydown,\n            \"onActiveChange\": onActiveChange,\n            \"onListChangeStart\": onListChangeStart,\n            \"onListChangeEnd\": onListChangeEnd,\n            \"onContextmenu\": onContextmenu,\n            \"onScroll\": onScroll\n          }, domProps), null)])];\n        }\n      });\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_typeof","_toConsumableArray","_slicedToArray","_defineProperty","_extends","createVNode","_createVNode","useProvideKeysState","TreeContext","getDragChildrenKeys","parseCheckedKeys","conductExpandParent","calcSelectedKeys","calcDropPosition","arrAdd","arrDel","posToArr","flattenTreeData","convertTreeToData","convertDataToEntities","convertNodePropsToEventData","getTreeNodeProps","fillFieldNames","NodeList","MOTION_KEY","MotionEntity","conductCheck","DropIndicator","computed","defineComponent","onUnmounted","reactive","ref","shallowRef","watch","watchEffect","nextTick","toRaw","initDefaultProps","treeProps","warning","KeyCode","classNames","pickAttrs","useMaxLevel","MAX_RETRY_TIMES","name","inheritAttrs","slots","props","prefixCls","showLine","showIcon","selectable","multiple","checkable","disabled","checkStrictly","draggable","expandAction","defaultExpandParent","autoExpandParent","defaultExpandAll","defaultExpandedKeys","defaultCheckedKeys","defaultSelectedKeys","dropIndicatorRender","allowDrop","setup","_ref","attrs","expose","destroyed","delayedDragEnterLogic","indent","selectedKeys","checkedKeys","halfCheckedKeys","loadedKeys","loadingKeys","expandedKeys","loadingRetryTimes","dragState","draggingNodeKey","dragChildrenKeys","dropTargetKey","dropPosition","dropContainerKey","dropLevelOffset","dropTargetPos","dropAllowed","dragOverNodeKey","treeData","children","value","undefined","slice","immediate","deep","keyEntities","focused","activeKey","listChanging","fieldNames","listRef","dragStartMousePosition","dragNode","currentMouseOverDroppableNodeKey","treeNodeRequiredProps","expandedKeysSet","selectedKeysSet","loadedKeysSet","loadingKeysSet","checkedKeysSet","halfCheckedKeysSet","Set","entitiesMap","init","_ref2","_ref3","_ref4","_newKeys","newAutoExpandParent","_ref5","_oldKeys","oldAutoExpandParent","keys","cloneKeyEntities","Object","map","key","flattenNodes","_useMaxLevel","maxLevel","levelEntities","checkedKeyEntity","_checkedKeyEntity","_checkedKeyEntity$che","newCheckedKeys","_checkedKeyEntity$hal","newHalfCheckedKeys","conductKeys","resetDragState","scrollTo","scroll","val","flush","setExpandedKeys","cleanDragState","onNodeDragEnd","event","node","onDragend","eventData","onWindowDragEnd","window","removeEventListener","onNodeDragStart","onDragstart","eventKey","x","clientX","y","clientY","newExpandedKeys","getIndentWidth","addEventListener","onNodeDragEnter","onDragenter","onExpand","direction","pos","_calcDropPosition","indexOf","forEach","clearTimeout","setTimeout","entity","length","expanded","nativeEvent","onNodeDragOver","onDragover","_calcDropPosition2","onNodeDragLeave","currentTarget","contains","relatedTarget","onDragleave","onNodeDrop","_node","outsideTree","arguments","_a","onDrop","abstractDropNodeProps","active","activeItem","data","dropToChild","posArr","dropResult","dragNodesKeys","concat","dropToGap","Number","triggerExpandActionExpand","e","treeNode","filter","nodeItem","eventNode","onNodeExpand","onNodeClick","onClick","onNodeDoubleClick","onDblclick","onNodeSelect","newSelectedKeys","onSelect","selected","targetSelected","keyEntitiesValue","selectedNodes","selectedKey","onNodeCheck","checked","onCheck","checkedObj","eventObj","halfChecked","checkedNodes","checkedKey","_conductCheck","_newCheckedKeys","_newHalfCheckedKeys","keySet","delete","_conductCheck2","Array","from","checkedNodesPositions","push","onNodeLoad","loadPromise","Promise","resolve","reject","loadData","onLoad","has","promise","then","newLoadedKeys","newLoadingKeys","catch","onNodeMouseEnter","onMouseenter","onNodeMouseLeave","onMouseleave","onNodeContextMenu","onRightClick","preventDefault","onFocus","onBlur","onActiveChange","index","targetExpanded","expandedKeysToRestore","onListChangeStart","onListChangeEnd","newActiveKey","find","_ref6","offsetActiveKey","offset","findIndex","_ref7","item","activeItemEventNode","onKeydown","which","UP","DOWN","expandable","isLeaf","LEFT","parent","RIGHT","ENTER","SPACE","disableCheckbox","_classNames","focusable","_props$tabindex","tabindex","_props$icon","icon","switcherIcon","motion","filterTreeNode","height","itemHeight","virtual","onContextmenu","onScroll","rootClassName","rootStyle","className","class","style","domProps","aria","draggableConfig","nodeDraggable","customCheckable","dragging","default","_default"],"sources":["/Users/cinder/Desktop/psyplusweb/node_modules/ant-design-vue/es/vc-tree/Tree.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { useProvideKeysState, TreeContext } from './contextTypes';\nimport { getDragChildrenKeys, parseCheckedKeys, conductExpandParent, calcSelectedKeys, calcDropPosition, arrAdd, arrDel, posToArr } from './util';\nimport { flattenTreeData, convertTreeToData, convertDataToEntities, convertNodePropsToEventData, getTreeNodeProps, fillFieldNames } from './utils/treeUtil';\nimport NodeList, { MOTION_KEY, MotionEntity } from './NodeList';\nimport { conductCheck } from './utils/conductUtil';\nimport DropIndicator from './DropIndicator';\nimport { computed, defineComponent, onUnmounted, reactive, ref, shallowRef, watch, watchEffect, nextTick, toRaw } from 'vue';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport { treeProps } from './props';\nimport { warning } from '../vc-util/warning';\nimport KeyCode from '../_util/KeyCode';\nimport classNames from '../_util/classNames';\nimport pickAttrs from '../_util/pickAttrs';\nimport useMaxLevel from './useMaxLevel';\nvar MAX_RETRY_TIMES = 10;\nexport default defineComponent({\n  name: 'Tree',\n  inheritAttrs: false,\n  slots: ['checkable', 'title', 'icon', 'titleRender'],\n  props: initDefaultProps(treeProps(), {\n    prefixCls: 'vc-tree',\n    showLine: false,\n    showIcon: true,\n    selectable: true,\n    multiple: false,\n    checkable: false,\n    disabled: false,\n    checkStrictly: false,\n    draggable: false,\n    expandAction: false,\n    defaultExpandParent: true,\n    autoExpandParent: false,\n    defaultExpandAll: false,\n    defaultExpandedKeys: [],\n    defaultCheckedKeys: [],\n    defaultSelectedKeys: [],\n    dropIndicatorRender: DropIndicator,\n    allowDrop: function allowDrop() {\n      return true;\n    }\n  }),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        slots = _ref.slots,\n        expose = _ref.expose;\n    var destroyed = ref(false);\n    var delayedDragEnterLogic = {};\n    var indent = ref();\n    var selectedKeys = shallowRef([]);\n    var checkedKeys = shallowRef([]);\n    var halfCheckedKeys = shallowRef([]);\n    var loadedKeys = shallowRef([]);\n    var loadingKeys = shallowRef([]);\n    var expandedKeys = shallowRef([]);\n    var loadingRetryTimes = {};\n    var dragState = reactive({\n      draggingNodeKey: null,\n      dragChildrenKeys: [],\n      // dropTargetKey is the key of abstract-drop-node\n      // the abstract-drop-node is the real drop node when drag and drop\n      // not the DOM drag over node\n      dropTargetKey: null,\n      dropPosition: null,\n      dropContainerKey: null,\n      dropLevelOffset: null,\n      dropTargetPos: null,\n      dropAllowed: true,\n      // the abstract-drag-over-node\n      // if mouse is on the bottom of top dom node or no the top of the bottom dom node\n      // abstract-drag-over-node is the top node\n      dragOverNodeKey: null\n    });\n    var treeData = shallowRef([]);\n    watch([function () {\n      return props.treeData;\n    }, function () {\n      return props.children;\n    }], function () {\n      treeData.value = props.treeData !== undefined ? toRaw(props.treeData).slice() : convertTreeToData(toRaw(props.children));\n    }, {\n      immediate: true,\n      deep: true\n    });\n    var keyEntities = shallowRef({});\n    var focused = ref(false);\n    var activeKey = ref(null);\n    var listChanging = ref(false);\n    var fieldNames = computed(function () {\n      return fillFieldNames(props.fieldNames);\n    });\n    var listRef = ref();\n    var dragStartMousePosition = null;\n    var dragNode = null;\n    var currentMouseOverDroppableNodeKey = null;\n    var treeNodeRequiredProps = computed(function () {\n      return {\n        expandedKeysSet: expandedKeysSet.value,\n        selectedKeysSet: selectedKeysSet.value,\n        loadedKeysSet: loadedKeysSet.value,\n        loadingKeysSet: loadingKeysSet.value,\n        checkedKeysSet: checkedKeysSet.value,\n        halfCheckedKeysSet: halfCheckedKeysSet.value,\n        dragOverNodeKey: dragState.dragOverNodeKey,\n        dropPosition: dragState.dropPosition,\n        keyEntities: keyEntities.value\n      };\n    });\n    var expandedKeysSet = computed(function () {\n      return new Set(expandedKeys.value);\n    });\n    var selectedKeysSet = computed(function () {\n      return new Set(selectedKeys.value);\n    });\n    var loadedKeysSet = computed(function () {\n      return new Set(loadedKeys.value);\n    });\n    var loadingKeysSet = computed(function () {\n      return new Set(loadingKeys.value);\n    });\n    var checkedKeysSet = computed(function () {\n      return new Set(checkedKeys.value);\n    });\n    var halfCheckedKeysSet = computed(function () {\n      return new Set(halfCheckedKeys.value);\n    });\n    watchEffect(function () {\n      if (treeData.value) {\n        var entitiesMap = convertDataToEntities(treeData.value, {\n          fieldNames: fieldNames.value\n        });\n        keyEntities.value = _extends(_defineProperty({}, MOTION_KEY, MotionEntity), entitiesMap.keyEntities);\n      }\n    });\n    var init = false; // 处理 defaultXxxx api, 仅仅首次有效\n\n    watch([function () {\n      return props.expandedKeys;\n    }, function () {\n      return props.autoExpandParent;\n    }, keyEntities], // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function (_ref2, _ref3) {\n      var _ref4 = _slicedToArray(_ref2, 2),\n          _newKeys = _ref4[0],\n          newAutoExpandParent = _ref4[1];\n\n      var _ref5 = _slicedToArray(_ref3, 2),\n          _oldKeys = _ref5[0],\n          oldAutoExpandParent = _ref5[1];\n\n      var keys = expandedKeys.value; // ================ expandedKeys =================\n\n      if (props.expandedKeys !== undefined || init && newAutoExpandParent !== oldAutoExpandParent) {\n        keys = props.autoExpandParent || !init && props.defaultExpandParent ? conductExpandParent(props.expandedKeys, keyEntities.value) : props.expandedKeys;\n      } else if (!init && props.defaultExpandAll) {\n        var cloneKeyEntities = _extends({}, keyEntities.value);\n\n        delete cloneKeyEntities[MOTION_KEY];\n        keys = Object.keys(cloneKeyEntities).map(function (key) {\n          return cloneKeyEntities[key].key;\n        });\n      } else if (!init && props.defaultExpandedKeys) {\n        keys = props.autoExpandParent || props.defaultExpandParent ? conductExpandParent(props.defaultExpandedKeys, keyEntities.value) : props.defaultExpandedKeys;\n      }\n\n      if (keys) {\n        expandedKeys.value = keys;\n      }\n\n      init = true;\n    }, {\n      immediate: true\n    }); // ================ flattenNodes =================\n\n    var flattenNodes = shallowRef([]);\n    watchEffect(function () {\n      flattenNodes.value = flattenTreeData(treeData.value, expandedKeys.value, fieldNames.value);\n    }); // ================ selectedKeys =================\n\n    watchEffect(function () {\n      if (props.selectable) {\n        if (props.selectedKeys !== undefined) {\n          selectedKeys.value = calcSelectedKeys(props.selectedKeys, props);\n        } else if (!init && props.defaultSelectedKeys) {\n          selectedKeys.value = calcSelectedKeys(props.defaultSelectedKeys, props);\n        }\n      }\n    });\n\n    var _useMaxLevel = useMaxLevel(keyEntities),\n        maxLevel = _useMaxLevel.maxLevel,\n        levelEntities = _useMaxLevel.levelEntities; // ================= checkedKeys =================\n\n\n    watchEffect(function () {\n      if (props.checkable) {\n        var checkedKeyEntity;\n\n        if (props.checkedKeys !== undefined) {\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {};\n        } else if (!init && props.defaultCheckedKeys) {\n          checkedKeyEntity = parseCheckedKeys(props.defaultCheckedKeys) || {};\n        } else if (treeData.value) {\n          // If `treeData` changed, we also need check it\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {\n            checkedKeys: checkedKeys.value,\n            halfCheckedKeys: halfCheckedKeys.value\n          };\n        }\n\n        if (checkedKeyEntity) {\n          var _checkedKeyEntity = checkedKeyEntity,\n              _checkedKeyEntity$che = _checkedKeyEntity.checkedKeys,\n              newCheckedKeys = _checkedKeyEntity$che === void 0 ? [] : _checkedKeyEntity$che,\n              _checkedKeyEntity$hal = _checkedKeyEntity.halfCheckedKeys,\n              newHalfCheckedKeys = _checkedKeyEntity$hal === void 0 ? [] : _checkedKeyEntity$hal;\n\n          if (!props.checkStrictly) {\n            var conductKeys = conductCheck(newCheckedKeys, true, keyEntities.value, maxLevel.value, levelEntities.value);\n            newCheckedKeys = conductKeys.checkedKeys;\n            newHalfCheckedKeys = conductKeys.halfCheckedKeys;\n          }\n\n          checkedKeys.value = newCheckedKeys;\n          halfCheckedKeys.value = newHalfCheckedKeys;\n        }\n      }\n    }); // ================= loadedKeys ==================\n\n    watchEffect(function () {\n      if (props.loadedKeys) {\n        loadedKeys.value = props.loadedKeys;\n      }\n    });\n\n    var resetDragState = function resetDragState() {\n      _extends(dragState, {\n        dragOverNodeKey: null,\n        dropPosition: null,\n        dropLevelOffset: null,\n        dropTargetKey: null,\n        dropContainerKey: null,\n        dropTargetPos: null,\n        dropAllowed: false\n      });\n    };\n\n    var scrollTo = function scrollTo(scroll) {\n      listRef.value.scrollTo(scroll);\n    };\n\n    watch(function () {\n      return props.activeKey;\n    }, function () {\n      if (props.activeKey !== undefined) {\n        activeKey.value = props.activeKey;\n      }\n    }, {\n      immediate: true\n    });\n    watch(activeKey, function (val) {\n      nextTick(function () {\n        if (val !== null) {\n          scrollTo({\n            key: val\n          });\n        }\n      });\n    }, {\n      immediate: true,\n      flush: 'post'\n    }); // =========================== Expanded ===========================\n\n    /** Set uncontrolled `expandedKeys`. This will also auto update `flattenNodes`. */\n\n    var setExpandedKeys = function setExpandedKeys(keys) {\n      if (props.expandedKeys === undefined) {\n        expandedKeys.value = keys;\n      }\n    };\n\n    var cleanDragState = function cleanDragState() {\n      if (dragState.draggingNodeKey !== null) {\n        _extends(dragState, {\n          draggingNodeKey: null,\n          dropPosition: null,\n          dropContainerKey: null,\n          dropTargetKey: null,\n          dropLevelOffset: null,\n          dropAllowed: true,\n          dragOverNodeKey: null\n        });\n      }\n\n      dragStartMousePosition = null;\n      currentMouseOverDroppableNodeKey = null;\n    }; // if onNodeDragEnd is called, onWindowDragEnd won't be called since stopPropagation() is called\n\n\n    var onNodeDragEnd = function onNodeDragEnd(event, node) {\n      var onDragend = props.onDragend;\n      dragState.dragOverNodeKey = null;\n      cleanDragState();\n      onDragend === null || onDragend === void 0 ? void 0 : onDragend({\n        event: event,\n        node: node.eventData\n      });\n      dragNode = null;\n    }; // since stopPropagation() is called in treeNode\n    // if onWindowDrag is called, whice means state is keeped, drag state should be cleared\n\n\n    var onWindowDragEnd = function onWindowDragEnd(event) {\n      onNodeDragEnd(event, null, true);\n      window.removeEventListener('dragend', onWindowDragEnd);\n    };\n\n    var onNodeDragStart = function onNodeDragStart(event, node) {\n      var onDragstart = props.onDragstart;\n      var eventKey = node.eventKey,\n          eventData = node.eventData;\n      dragNode = node;\n      dragStartMousePosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      var newExpandedKeys = arrDel(expandedKeys.value, eventKey);\n      dragState.draggingNodeKey = eventKey;\n      dragState.dragChildrenKeys = getDragChildrenKeys(eventKey, keyEntities.value);\n      indent.value = listRef.value.getIndentWidth();\n      setExpandedKeys(newExpandedKeys);\n      window.addEventListener('dragend', onWindowDragEnd);\n\n      if (onDragstart) {\n        onDragstart({\n          event: event,\n          node: eventData\n        });\n      }\n    };\n    /**\n     * [Legacy] Select handler is smaller than node,\n     * so that this will trigger when drag enter node or select handler.\n     * This is a little tricky if customize css without padding.\n     * Better for use mouse move event to refresh drag state.\n     * But let's just keep it to avoid event trigger logic change.\n     */\n\n\n    var onNodeDragEnter = function onNodeDragEnter(event, node) {\n      var onDragenter = props.onDragenter,\n          onExpand = props.onExpand,\n          allowDrop = props.allowDrop,\n          direction = props.direction;\n      var pos = node.pos,\n          eventKey = node.eventKey; // record the key of node which is latest entered, used in dragleave event.\n\n      if (currentMouseOverDroppableNodeKey !== eventKey) {\n        currentMouseOverDroppableNodeKey = eventKey;\n      }\n\n      if (!dragNode) {\n        resetDragState();\n        return;\n      }\n\n      var _calcDropPosition = calcDropPosition(event, dragNode, node, indent.value, dragStartMousePosition, allowDrop, flattenNodes.value, keyEntities.value, expandedKeysSet.value, direction),\n          dropPosition = _calcDropPosition.dropPosition,\n          dropLevelOffset = _calcDropPosition.dropLevelOffset,\n          dropTargetKey = _calcDropPosition.dropTargetKey,\n          dropContainerKey = _calcDropPosition.dropContainerKey,\n          dropTargetPos = _calcDropPosition.dropTargetPos,\n          dropAllowed = _calcDropPosition.dropAllowed,\n          dragOverNodeKey = _calcDropPosition.dragOverNodeKey;\n\n      if ( // don't allow drop inside its children\n      dragState.dragChildrenKeys.indexOf(dropTargetKey) !== -1 || // don't allow drop when drop is not allowed caculated by calcDropPosition\n      !dropAllowed) {\n        resetDragState();\n        return;\n      } // Side effect for delay drag\n\n\n      if (!delayedDragEnterLogic) {\n        delayedDragEnterLogic = {};\n      }\n\n      Object.keys(delayedDragEnterLogic).forEach(function (key) {\n        clearTimeout(delayedDragEnterLogic[key]);\n      });\n\n      if (dragNode.eventKey !== node.eventKey) {\n        // hoist expand logic here\n        // since if logic is on the bottom\n        // it will be blocked by abstract dragover node check\n        //   => if you dragenter from top, you mouse will still be consider as in the top node\n        delayedDragEnterLogic[pos] = window.setTimeout(function () {\n          if (dragState.draggingNodeKey === null) return;\n          var newExpandedKeys = expandedKeys.value.slice();\n          var entity = keyEntities.value[node.eventKey];\n\n          if (entity && (entity.children || []).length) {\n            newExpandedKeys = arrAdd(expandedKeys.value, node.eventKey);\n          }\n\n          setExpandedKeys(newExpandedKeys);\n\n          if (onExpand) {\n            onExpand(newExpandedKeys, {\n              node: node.eventData,\n              expanded: true,\n              nativeEvent: event\n            });\n          }\n        }, 800);\n      } // Skip if drag node is self\n\n\n      if (dragNode.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        resetDragState();\n        return;\n      } // Update drag over node and drag state\n\n\n      _extends(dragState, {\n        dragOverNodeKey: dragOverNodeKey,\n        dropPosition: dropPosition,\n        dropLevelOffset: dropLevelOffset,\n        dropTargetKey: dropTargetKey,\n        dropContainerKey: dropContainerKey,\n        dropTargetPos: dropTargetPos,\n        dropAllowed: dropAllowed\n      });\n\n      if (onDragenter) {\n        onDragenter({\n          event: event,\n          node: node.eventData,\n          expandedKeys: expandedKeys.value\n        });\n      }\n    };\n\n    var onNodeDragOver = function onNodeDragOver(event, node) {\n      var onDragover = props.onDragover,\n          allowDrop = props.allowDrop,\n          direction = props.direction;\n\n      if (!dragNode) {\n        return;\n      }\n\n      var _calcDropPosition2 = calcDropPosition(event, dragNode, node, indent.value, dragStartMousePosition, allowDrop, flattenNodes.value, keyEntities.value, expandedKeysSet.value, direction),\n          dropPosition = _calcDropPosition2.dropPosition,\n          dropLevelOffset = _calcDropPosition2.dropLevelOffset,\n          dropTargetKey = _calcDropPosition2.dropTargetKey,\n          dropContainerKey = _calcDropPosition2.dropContainerKey,\n          dropAllowed = _calcDropPosition2.dropAllowed,\n          dropTargetPos = _calcDropPosition2.dropTargetPos,\n          dragOverNodeKey = _calcDropPosition2.dragOverNodeKey;\n\n      if (dragState.dragChildrenKeys.indexOf(dropTargetKey) !== -1 || !dropAllowed) {\n        // don't allow drop inside its children\n        // don't allow drop when drop is not allowed caculated by calcDropPosition\n        return;\n      } // Update drag position\n\n\n      if (dragNode.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        if (!(dragState.dropPosition === null && dragState.dropLevelOffset === null && dragState.dropTargetKey === null && dragState.dropContainerKey === null && dragState.dropTargetPos === null && dragState.dropAllowed === false && dragState.dragOverNodeKey === null)) {\n          resetDragState();\n        }\n      } else if (!(dropPosition === dragState.dropPosition && dropLevelOffset === dragState.dropLevelOffset && dropTargetKey === dragState.dropTargetKey && dropContainerKey === dragState.dropContainerKey && dropTargetPos === dragState.dropTargetPos && dropAllowed === dragState.dropAllowed && dragOverNodeKey === dragState.dragOverNodeKey)) {\n        _extends(dragState, {\n          dropPosition: dropPosition,\n          dropLevelOffset: dropLevelOffset,\n          dropTargetKey: dropTargetKey,\n          dropContainerKey: dropContainerKey,\n          dropTargetPos: dropTargetPos,\n          dropAllowed: dropAllowed,\n          dragOverNodeKey: dragOverNodeKey\n        });\n      }\n\n      if (onDragover) {\n        onDragover({\n          event: event,\n          node: node.eventData\n        });\n      }\n    };\n\n    var onNodeDragLeave = function onNodeDragLeave(event, node) {\n      // if it is outside the droppable area\n      // currentMouseOverDroppableNodeKey will be updated in dragenter event when into another droppable receiver.\n      if (currentMouseOverDroppableNodeKey === node.eventKey && !event.currentTarget.contains(event.relatedTarget)) {\n        resetDragState();\n        currentMouseOverDroppableNodeKey = null;\n      }\n\n      var onDragleave = props.onDragleave;\n\n      if (onDragleave) {\n        onDragleave({\n          event: event,\n          node: node.eventData\n        });\n      }\n    };\n\n    var onNodeDrop = function onNodeDrop(event, _node) {\n      var outsideTree = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _a;\n\n      var dragChildrenKeys = dragState.dragChildrenKeys,\n          dropPosition = dragState.dropPosition,\n          dropTargetKey = dragState.dropTargetKey,\n          dropTargetPos = dragState.dropTargetPos,\n          dropAllowed = dragState.dropAllowed;\n      if (!dropAllowed) return;\n      var onDrop = props.onDrop;\n      dragState.dragOverNodeKey = null;\n      cleanDragState();\n      if (dropTargetKey === null) return;\n\n      var abstractDropNodeProps = _extends(_extends({}, getTreeNodeProps(dropTargetKey, toRaw(treeNodeRequiredProps.value))), {\n        active: ((_a = activeItem.value) === null || _a === void 0 ? void 0 : _a.key) === dropTargetKey,\n        data: keyEntities.value[dropTargetKey].node\n      });\n\n      var dropToChild = dragChildrenKeys.indexOf(dropTargetKey) !== -1;\n      warning(!dropToChild, \"Can not drop to dragNode's children node. Maybe this is a bug of ant-design-vue. Please report an issue.\");\n      var posArr = posToArr(dropTargetPos);\n      var dropResult = {\n        event: event,\n        node: convertNodePropsToEventData(abstractDropNodeProps),\n        dragNode: dragNode ? dragNode.eventData : null,\n        dragNodesKeys: [dragNode.eventKey].concat(dragChildrenKeys),\n        dropToGap: dropPosition !== 0,\n        dropPosition: dropPosition + Number(posArr[posArr.length - 1])\n      };\n\n      if (!outsideTree) {\n        onDrop === null || onDrop === void 0 ? void 0 : onDrop(dropResult);\n      }\n\n      dragNode = null;\n    };\n\n    var triggerExpandActionExpand = function triggerExpandActionExpand(e, treeNode) {\n      var expanded = treeNode.expanded,\n          key = treeNode.key;\n      var node = flattenNodes.value.filter(function (nodeItem) {\n        return nodeItem.key === key;\n      })[0];\n      var eventNode = convertNodePropsToEventData(_extends(_extends({}, getTreeNodeProps(key, treeNodeRequiredProps.value)), {\n        data: node.data\n      }));\n      setExpandedKeys(expanded ? arrDel(expandedKeys.value, key) : arrAdd(expandedKeys.value, key));\n      onNodeExpand(e, eventNode);\n    };\n\n    var onNodeClick = function onNodeClick(e, treeNode) {\n      var onClick = props.onClick,\n          expandAction = props.expandAction;\n\n      if (expandAction === 'click') {\n        triggerExpandActionExpand(e, treeNode);\n      }\n\n      if (onClick) {\n        onClick(e, treeNode);\n      }\n    };\n\n    var onNodeDoubleClick = function onNodeDoubleClick(e, treeNode) {\n      var onDblclick = props.onDblclick,\n          expandAction = props.expandAction;\n\n      if (expandAction === 'doubleclick' || expandAction === 'dblclick') {\n        triggerExpandActionExpand(e, treeNode);\n      }\n\n      if (onDblclick) {\n        onDblclick(e, treeNode);\n      }\n    };\n\n    var onNodeSelect = function onNodeSelect(e, treeNode) {\n      var newSelectedKeys = selectedKeys.value;\n      var onSelect = props.onSelect,\n          multiple = props.multiple;\n      var selected = treeNode.selected;\n      var key = treeNode[fieldNames.value.key];\n      var targetSelected = !selected; // Update selected keys\n\n      if (!targetSelected) {\n        newSelectedKeys = arrDel(newSelectedKeys, key);\n      } else if (!multiple) {\n        newSelectedKeys = [key];\n      } else {\n        newSelectedKeys = arrAdd(newSelectedKeys, key);\n      } // [Legacy] Not found related usage in doc or upper libs\n\n\n      var keyEntitiesValue = keyEntities.value;\n      var selectedNodes = newSelectedKeys.map(function (selectedKey) {\n        var entity = keyEntitiesValue[selectedKey];\n        if (!entity) return null;\n        return entity.node;\n      }).filter(function (node) {\n        return node;\n      });\n\n      if (props.selectedKeys === undefined) {\n        selectedKeys.value = newSelectedKeys;\n      }\n\n      if (onSelect) {\n        onSelect(newSelectedKeys, {\n          event: 'select',\n          selected: targetSelected,\n          node: treeNode,\n          selectedNodes: selectedNodes,\n          nativeEvent: e\n        });\n      }\n    };\n\n    var onNodeCheck = function onNodeCheck(e, treeNode, checked) {\n      var checkStrictly = props.checkStrictly,\n          onCheck = props.onCheck;\n      var key = treeNode[fieldNames.value.key]; // Prepare trigger arguments\n\n      var checkedObj;\n      var eventObj = {\n        event: 'check',\n        node: treeNode,\n        checked: checked,\n        nativeEvent: e\n      };\n      var keyEntitiesValue = keyEntities.value;\n\n      if (checkStrictly) {\n        var newCheckedKeys = checked ? arrAdd(checkedKeys.value, key) : arrDel(checkedKeys.value, key);\n        var newHalfCheckedKeys = arrDel(halfCheckedKeys.value, key);\n        checkedObj = {\n          checked: newCheckedKeys,\n          halfChecked: newHalfCheckedKeys\n        };\n        eventObj.checkedNodes = newCheckedKeys.map(function (checkedKey) {\n          return keyEntitiesValue[checkedKey];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (entity) {\n          return entity.node;\n        });\n\n        if (props.checkedKeys === undefined) {\n          checkedKeys.value = newCheckedKeys;\n        }\n      } else {\n        // Always fill first\n        var _conductCheck = conductCheck([].concat(_toConsumableArray(checkedKeys.value), [key]), true, keyEntitiesValue, maxLevel.value, levelEntities.value),\n            _newCheckedKeys = _conductCheck.checkedKeys,\n            _newHalfCheckedKeys = _conductCheck.halfCheckedKeys; // If remove, we do it again to correction\n\n\n        if (!checked) {\n          var keySet = new Set(_newCheckedKeys);\n          keySet.delete(key);\n\n          var _conductCheck2 = conductCheck(Array.from(keySet), {\n            checked: false,\n            halfCheckedKeys: _newHalfCheckedKeys\n          }, keyEntitiesValue, maxLevel.value, levelEntities.value);\n\n          _newCheckedKeys = _conductCheck2.checkedKeys;\n          _newHalfCheckedKeys = _conductCheck2.halfCheckedKeys;\n        }\n\n        checkedObj = _newCheckedKeys; // [Legacy] This is used for vc-tree-select`\n\n        eventObj.checkedNodes = [];\n        eventObj.checkedNodesPositions = [];\n        eventObj.halfCheckedKeys = _newHalfCheckedKeys;\n\n        _newCheckedKeys.forEach(function (checkedKey) {\n          var entity = keyEntitiesValue[checkedKey];\n          if (!entity) return;\n          var node = entity.node,\n              pos = entity.pos;\n          eventObj.checkedNodes.push(node);\n          eventObj.checkedNodesPositions.push({\n            node: node,\n            pos: pos\n          });\n        });\n\n        if (props.checkedKeys === undefined) {\n          checkedKeys.value = _newCheckedKeys;\n          halfCheckedKeys.value = _newHalfCheckedKeys;\n        }\n      }\n\n      if (onCheck) {\n        onCheck(checkedObj, eventObj);\n      }\n    };\n\n    var onNodeLoad = function onNodeLoad(treeNode) {\n      var key = treeNode[fieldNames.value.key];\n      var loadPromise = new Promise(function (resolve, reject) {\n        // We need to get the latest state of loading/loaded keys\n        var loadData = props.loadData,\n            onLoad = props.onLoad;\n\n        if (!loadData || loadedKeysSet.value.has(key) || loadingKeysSet.value.has(key)) {\n          return null;\n        } // Process load data\n\n\n        var promise = loadData(treeNode);\n        promise.then(function () {\n          var newLoadedKeys = arrAdd(loadedKeys.value, key);\n          var newLoadingKeys = arrDel(loadingKeys.value, key); // onLoad should trigger before internal setState to avoid `loadData` trigger twice.\n          // https://github.com/ant-design/ant-design/issues/12464\n\n          if (onLoad) {\n            onLoad(newLoadedKeys, {\n              event: 'load',\n              node: treeNode\n            });\n          }\n\n          if (props.loadedKeys === undefined) {\n            loadedKeys.value = newLoadedKeys;\n          }\n\n          loadingKeys.value = newLoadingKeys;\n          resolve();\n        }).catch(function (e) {\n          var newLoadingKeys = arrDel(loadingKeys.value, key);\n          loadingKeys.value = newLoadingKeys; // If exceed max retry times, we give up retry\n\n          loadingRetryTimes[key] = (loadingRetryTimes[key] || 0) + 1;\n\n          if (loadingRetryTimes[key] >= MAX_RETRY_TIMES) {\n            warning(false, 'Retry for `loadData` many times but still failed. No more retry.');\n            var newLoadedKeys = arrAdd(loadedKeys.value, key);\n\n            if (props.loadedKeys === undefined) {\n              loadedKeys.value = newLoadedKeys;\n            }\n\n            resolve();\n          }\n\n          reject(e);\n        });\n        loadingKeys.value = arrAdd(loadingKeys.value, key);\n      }); // Not care warning if we ignore this\n\n      loadPromise.catch(function () {});\n      return loadPromise;\n    };\n\n    var onNodeMouseEnter = function onNodeMouseEnter(event, node) {\n      var onMouseenter = props.onMouseenter;\n\n      if (onMouseenter) {\n        onMouseenter({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    var onNodeMouseLeave = function onNodeMouseLeave(event, node) {\n      var onMouseleave = props.onMouseleave;\n\n      if (onMouseleave) {\n        onMouseleave({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    var onNodeContextMenu = function onNodeContextMenu(event, node) {\n      var onRightClick = props.onRightClick;\n\n      if (onRightClick) {\n        event.preventDefault();\n        onRightClick({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    var onFocus = function onFocus(e) {\n      var onFocus = props.onFocus;\n      focused.value = true;\n\n      if (onFocus) {\n        onFocus(e);\n      }\n    };\n\n    var onBlur = function onBlur(e) {\n      var onBlur = props.onBlur;\n      focused.value = false;\n      onActiveChange(null);\n\n      if (onBlur) {\n        onBlur(e);\n      }\n    };\n\n    var onNodeExpand = function onNodeExpand(e, treeNode) {\n      var newExpandedKeys = expandedKeys.value;\n      var onExpand = props.onExpand,\n          loadData = props.loadData;\n      var expanded = treeNode.expanded;\n      var key = treeNode[fieldNames.value.key]; // Do nothing when motion is in progress\n\n      if (listChanging.value) {\n        return;\n      } // Update selected keys\n\n\n      var index = newExpandedKeys.indexOf(key);\n      var targetExpanded = !expanded;\n      warning(expanded && index !== -1 || !expanded && index === -1, 'Expand state not sync with index check');\n\n      if (targetExpanded) {\n        newExpandedKeys = arrAdd(newExpandedKeys, key);\n      } else {\n        newExpandedKeys = arrDel(newExpandedKeys, key);\n      }\n\n      setExpandedKeys(newExpandedKeys);\n\n      if (onExpand) {\n        onExpand(newExpandedKeys, {\n          node: treeNode,\n          expanded: targetExpanded,\n          nativeEvent: e\n        });\n      } // Async Load data\n\n\n      if (targetExpanded && loadData) {\n        var loadPromise = onNodeLoad(treeNode);\n\n        if (loadPromise) {\n          loadPromise.then(function () {// [Legacy] Refresh logic\n            // const newFlattenTreeData = flattenTreeData(\n            //   treeData.value,\n            //   newExpandedKeys,\n            //   fieldNames.value,\n            // );\n            // flattenNodes.value = newFlattenTreeData;\n          }).catch(function (e) {\n            var expandedKeysToRestore = arrDel(expandedKeys.value, key);\n            setExpandedKeys(expandedKeysToRestore);\n            Promise.reject(e);\n          });\n        }\n      }\n    };\n\n    var onListChangeStart = function onListChangeStart() {\n      listChanging.value = true;\n    };\n\n    var onListChangeEnd = function onListChangeEnd() {\n      setTimeout(function () {\n        listChanging.value = false;\n      });\n    }; // =========================== Keyboard ===========================\n\n\n    var onActiveChange = function onActiveChange(newActiveKey) {\n      var onActiveChange = props.onActiveChange;\n\n      if (activeKey.value === newActiveKey) {\n        return;\n      }\n\n      if (props.activeKey !== undefined) {\n        activeKey.value = newActiveKey;\n      }\n\n      if (newActiveKey !== null) {\n        scrollTo({\n          key: newActiveKey\n        });\n      }\n\n      if (onActiveChange) {\n        onActiveChange(newActiveKey);\n      }\n    };\n\n    var activeItem = computed(function () {\n      if (activeKey.value === null) {\n        return null;\n      }\n\n      return flattenNodes.value.find(function (_ref6) {\n        var key = _ref6.key;\n        return key === activeKey.value;\n      }) || null;\n    });\n\n    var offsetActiveKey = function offsetActiveKey(offset) {\n      var index = flattenNodes.value.findIndex(function (_ref7) {\n        var key = _ref7.key;\n        return key === activeKey.value;\n      }); // Align with index\n\n      if (index === -1 && offset < 0) {\n        index = flattenNodes.value.length;\n      }\n\n      index = (index + offset + flattenNodes.value.length) % flattenNodes.value.length;\n      var item = flattenNodes.value[index];\n\n      if (item) {\n        var key = item.key;\n        onActiveChange(key);\n      } else {\n        onActiveChange(null);\n      }\n    };\n\n    var activeItemEventNode = computed(function () {\n      return convertNodePropsToEventData(_extends(_extends({}, getTreeNodeProps(activeKey.value, treeNodeRequiredProps.value)), {\n        data: activeItem.value.data,\n        active: true\n      }));\n    });\n\n    var onKeydown = function onKeydown(event) {\n      var onKeydown = props.onKeydown,\n          checkable = props.checkable,\n          selectable = props.selectable; // >>>>>>>>>> Direction\n\n      switch (event.which) {\n        case KeyCode.UP:\n          {\n            offsetActiveKey(-1);\n            event.preventDefault();\n            break;\n          }\n\n        case KeyCode.DOWN:\n          {\n            offsetActiveKey(1);\n            event.preventDefault();\n            break;\n          }\n      } // >>>>>>>>>> Expand & Selection\n\n\n      var item = activeItem.value;\n\n      if (item && item.data) {\n        var expandable = item.data.isLeaf === false || !!(item.data.children || []).length;\n        var eventNode = activeItemEventNode.value;\n\n        switch (event.which) {\n          // >>> Expand\n          case KeyCode.LEFT:\n            {\n              // Collapse if possible\n              if (expandable && expandedKeysSet.value.has(activeKey.value)) {\n                onNodeExpand({}, eventNode);\n              } else if (item.parent) {\n                onActiveChange(item.parent.key);\n              }\n\n              event.preventDefault();\n              break;\n            }\n\n          case KeyCode.RIGHT:\n            {\n              // Expand if possible\n              if (expandable && !expandedKeysSet.value.has(activeKey.value)) {\n                onNodeExpand({}, eventNode);\n              } else if (item.children && item.children.length) {\n                onActiveChange(item.children[0].key);\n              }\n\n              event.preventDefault();\n              break;\n            }\n          // Selection\n\n          case KeyCode.ENTER:\n          case KeyCode.SPACE:\n            {\n              if (checkable && !eventNode.disabled && eventNode.checkable !== false && !eventNode.disableCheckbox) {\n                onNodeCheck({}, eventNode, !checkedKeysSet.value.has(activeKey.value));\n              } else if (!checkable && selectable && !eventNode.disabled && eventNode.selectable !== false) {\n                onNodeSelect({}, eventNode);\n              }\n\n              break;\n            }\n        }\n      }\n\n      if (onKeydown) {\n        onKeydown(event);\n      }\n    };\n\n    expose({\n      onNodeExpand: onNodeExpand,\n      scrollTo: scrollTo,\n      onKeydown: onKeydown,\n      selectedKeys: computed(function () {\n        return selectedKeys.value;\n      }),\n      checkedKeys: computed(function () {\n        return checkedKeys.value;\n      }),\n      halfCheckedKeys: computed(function () {\n        return halfCheckedKeys.value;\n      }),\n      loadedKeys: computed(function () {\n        return loadedKeys.value;\n      }),\n      loadingKeys: computed(function () {\n        return loadingKeys.value;\n      }),\n      expandedKeys: computed(function () {\n        return expandedKeys.value;\n      })\n    });\n    onUnmounted(function () {\n      window.removeEventListener('dragend', onWindowDragEnd);\n      destroyed.value = true;\n    });\n    useProvideKeysState({\n      expandedKeys: expandedKeys,\n      selectedKeys: selectedKeys,\n      loadedKeys: loadedKeys,\n      loadingKeys: loadingKeys,\n      checkedKeys: checkedKeys,\n      halfCheckedKeys: halfCheckedKeys,\n      expandedKeysSet: expandedKeysSet,\n      selectedKeysSet: selectedKeysSet,\n      loadedKeysSet: loadedKeysSet,\n      loadingKeysSet: loadingKeysSet,\n      checkedKeysSet: checkedKeysSet,\n      halfCheckedKeysSet: halfCheckedKeysSet,\n      flattenNodes: flattenNodes\n    });\n    return function () {\n      var _classNames;\n\n      var draggingNodeKey = dragState.draggingNodeKey,\n          dropLevelOffset = dragState.dropLevelOffset,\n          dropContainerKey = dragState.dropContainerKey,\n          dropTargetKey = dragState.dropTargetKey,\n          dropPosition = dragState.dropPosition,\n          dragOverNodeKey = dragState.dragOverNodeKey;\n      var prefixCls = props.prefixCls,\n          showLine = props.showLine,\n          focusable = props.focusable,\n          _props$tabindex = props.tabindex,\n          tabindex = _props$tabindex === void 0 ? 0 : _props$tabindex,\n          selectable = props.selectable,\n          showIcon = props.showIcon,\n          _props$icon = props.icon,\n          icon = _props$icon === void 0 ? slots.icon : _props$icon,\n          switcherIcon = props.switcherIcon,\n          draggable = props.draggable,\n          checkable = props.checkable,\n          checkStrictly = props.checkStrictly,\n          disabled = props.disabled,\n          motion = props.motion,\n          loadData = props.loadData,\n          filterTreeNode = props.filterTreeNode,\n          height = props.height,\n          itemHeight = props.itemHeight,\n          virtual = props.virtual,\n          dropIndicatorRender = props.dropIndicatorRender,\n          onContextmenu = props.onContextmenu,\n          onScroll = props.onScroll,\n          direction = props.direction,\n          rootClassName = props.rootClassName,\n          rootStyle = props.rootStyle;\n      var className = attrs.class,\n          style = attrs.style;\n      var domProps = pickAttrs(_extends(_extends({}, props), attrs), {\n        aria: true,\n        data: true\n      }); // It's better move to hooks but we just simply keep here\n\n      var draggableConfig;\n\n      if (draggable) {\n        if (_typeof(draggable) === 'object') {\n          draggableConfig = draggable;\n        } else if (typeof draggable === 'function') {\n          draggableConfig = {\n            nodeDraggable: draggable\n          };\n        } else {\n          draggableConfig = {};\n        }\n      }\n\n      return _createVNode(TreeContext, {\n        \"value\": {\n          prefixCls: prefixCls,\n          selectable: selectable,\n          showIcon: showIcon,\n          icon: icon,\n          switcherIcon: switcherIcon,\n          draggable: draggableConfig,\n          draggingNodeKey: draggingNodeKey,\n          checkable: checkable,\n          customCheckable: slots.checkable,\n          checkStrictly: checkStrictly,\n          disabled: disabled,\n          keyEntities: keyEntities.value,\n          dropLevelOffset: dropLevelOffset,\n          dropContainerKey: dropContainerKey,\n          dropTargetKey: dropTargetKey,\n          dropPosition: dropPosition,\n          dragOverNodeKey: dragOverNodeKey,\n          dragging: draggingNodeKey !== null,\n          indent: indent.value,\n          direction: direction,\n          dropIndicatorRender: dropIndicatorRender,\n          loadData: loadData,\n          filterTreeNode: filterTreeNode,\n          onNodeClick: onNodeClick,\n          onNodeDoubleClick: onNodeDoubleClick,\n          onNodeExpand: onNodeExpand,\n          onNodeSelect: onNodeSelect,\n          onNodeCheck: onNodeCheck,\n          onNodeLoad: onNodeLoad,\n          onNodeMouseEnter: onNodeMouseEnter,\n          onNodeMouseLeave: onNodeMouseLeave,\n          onNodeContextMenu: onNodeContextMenu,\n          onNodeDragStart: onNodeDragStart,\n          onNodeDragEnter: onNodeDragEnter,\n          onNodeDragOver: onNodeDragOver,\n          onNodeDragLeave: onNodeDragLeave,\n          onNodeDragEnd: onNodeDragEnd,\n          onNodeDrop: onNodeDrop,\n          slots: slots\n        }\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"role\": \"tree\",\n            \"class\": classNames(prefixCls, className, rootClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-line\"), showLine), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), focused.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-active-focused\"), activeKey.value !== null), _classNames)),\n            \"style\": rootStyle\n          }, [_createVNode(NodeList, _objectSpread({\n            \"ref\": listRef,\n            \"prefixCls\": prefixCls,\n            \"style\": style,\n            \"disabled\": disabled,\n            \"selectable\": selectable,\n            \"checkable\": !!checkable,\n            \"motion\": motion,\n            \"height\": height,\n            \"itemHeight\": itemHeight,\n            \"virtual\": virtual,\n            \"focusable\": focusable,\n            \"focused\": focused.value,\n            \"tabindex\": tabindex,\n            \"activeItem\": activeItem.value,\n            \"onFocus\": onFocus,\n            \"onBlur\": onBlur,\n            \"onKeydown\": onKeydown,\n            \"onActiveChange\": onActiveChange,\n            \"onListChangeStart\": onListChangeStart,\n            \"onListChangeEnd\": onListChangeEnd,\n            \"onContextmenu\": onContextmenu,\n            \"onScroll\": onScroll\n          }, domProps), null)])];\n        }\n      });\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}